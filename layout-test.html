<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layout Validation Test</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/mobile-polish.css">
    <link rel="stylesheet" href="css/animations.css">
    <style>
        .test-grid {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 0, 0, 0.1);
            padding: 10px;
            z-index: 10000;
            font-family: monospace;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .test-info {
            background: white;
            padding: 5px 10px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .test-buttons {
            display: flex;
            gap: 10px;
        }
        
        .test-btn {
            padding: 5px 10px;
            background: #6366f1;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 11px;
        }
        
        .test-btn:hover {
            background: #4f46e5;
        }
        
        .overflow-indicator {
            position: fixed;
            top: 50%;
            right: 0;
            background: red;
            color: white;
            padding: 10px;
            font-weight: bold;
            display: none;
            z-index: 10001;
        }
        
        .overflow-indicator.active {
            display: block;
        }
        
        body.show-boundaries * {
            outline: 1px solid rgba(255, 0, 0, 0.2);
        }
        
        body.show-boundaries .container {
            outline: 2px solid blue;
        }
        
        body.show-boundaries section {
            outline: 2px solid green;
        }
    </style>
</head>
<body>
    <div class="test-grid">
        <div class="test-info">
            <strong>Layout Test:</strong>
            <span id="viewportWidth">-</span> x <span id="viewportHeight">-</span>
            | Overflow: <span id="overflowStatus">OK</span>
            | Container: <span id="containerWidth">-</span>
        </div>
        <div class="test-buttons">
            <button class="test-btn" onclick="testWidth(360)">360px</button>
            <button class="test-btn" onclick="testWidth(768)">768px</button>
            <button class="test-btn" onclick="testWidth(1024)">1024px</button>
            <button class="test-btn" onclick="testWidth(1440)">1440px</button>
            <button class="test-btn" onclick="testWidth(1920)">1920px</button>
            <button class="test-btn" onclick="toggleBoundaries()">Toggle Boundaries</button>
            <button class="test-btn" onclick="window.location.href='index.html'">Back to Site</button>
        </div>
    </div>
    
    <div class="overflow-indicator" id="overflowIndicator">
        ⚠️ HORIZONTAL OVERFLOW DETECTED
    </div>

    <div style="margin-top: 60px;">
        <!-- Test Section 1: Hero-like -->
        <section class="hero" style="min-height: auto; padding: 100px 0;">
            <div class="container">
                <div class="hero-content" style="grid-template-columns: 1fr;">
                    <div class="hero-text" style="text-align: center;">
                        <h1 class="hero-title">Layout Test Page</h1>
                        <p class="hero-description">
                            This page tests the layout constraints across different viewport widths.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Test Section 2: Stats Grid -->
        <section class="stats">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Stats Grid Test</h2>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-check"></i>
                        <div class="stat-number">100</div>
                        <p>Test Item 1</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-check"></i>
                        <div class="stat-number">200</div>
                        <p>Test Item 2</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-check"></i>
                        <div class="stat-number">300</div>
                        <p>Test Item 3</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-check"></i>
                        <div class="stat-number">400</div>
                        <p>Test Item 4</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Test Section 3: Services Grid -->
        <section class="services">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Services Grid Test</h2>
                </div>
                <div class="services-grid">
                    <div class="service-card">
                        <h3>Service 1</h3>
                        <p>This is a test service card with some content that should wrap properly.</p>
                    </div>
                    <div class="service-card">
                        <h3>Service 2</h3>
                        <p>This is a test service card with some content that should wrap properly.</p>
                    </div>
                    <div class="service-card">
                        <h3>Service 3</h3>
                        <p>This is a test service card with some content that should wrap properly.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Test Section 4: Content Wrapper -->
        <section style="padding: 80px 0; background: var(--bg-secondary);">
            <div class="container">
                <div class="content-wrapper">
                    <h2>Content Wrapper Test</h2>
                    <p>
                        This paragraph is inside a content-wrapper which should have a max-width
                        of 900px for optimal readability. The content should never stretch too wide
                        on ultra-wide screens.
                    </p>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod 
                        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, 
                        quis nostrud exercitation ullamco laboris.
                    </p>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Update viewport info
        function updateViewportInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const hasOverflow = document.documentElement.scrollWidth > document.documentElement.clientWidth;
            
            document.getElementById('viewportWidth').textContent = width + 'px';
            document.getElementById('viewportHeight').textContent = height + 'px';
            
            const overflowStatus = document.getElementById('overflowStatus');
            const overflowIndicator = document.getElementById('overflowIndicator');
            
            if (hasOverflow) {
                overflowStatus.textContent = 'FAIL';
                overflowStatus.style.color = 'red';
                overflowIndicator.classList.add('active');
            } else {
                overflowStatus.textContent = 'OK';
                overflowStatus.style.color = 'green';
                overflowIndicator.classList.remove('active');
            }
            
            // Get container width
            const container = document.querySelector('.container');
            if (container) {
                const containerWidth = container.offsetWidth;
                document.getElementById('containerWidth').textContent = containerWidth + 'px';
            }
        }
        
        // Test specific widths (for desktop testing)
        function testWidth(width) {
            alert(`Please resize your browser window to ${width}px width to test.\n\nOr use browser DevTools device emulation.`);
        }
        
        // Toggle boundary visualization
        function toggleBoundaries() {
            document.body.classList.toggle('show-boundaries');
        }
        
        // Update on load and resize
        window.addEventListener('load', updateViewportInfo);
        window.addEventListener('resize', updateViewportInfo);
        
        // Initial update
        updateViewportInfo();
        setInterval(updateViewportInfo, 1000);
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</body>
</html>
